# Test Documentation

***

To run Selenium tests, ensure you have Selenium ChromeDriver installed. [The Selenium website](https://www.selenium.dev/documentation/en/webdriver/driver_requirements/) provides instructions for installation.

With ChromeDriver installed and the virtual environment activated and development server running, run the command `pytest` in the development server to commence testing.

## Testing Suites

***

### Front-end

**Selenium IDE:** Front-end tests are conducted using Selenium IDE. 

* Text highlighting - Text input is verified as correctly highlighting DRL components based on type in real time.

* Valid rule - DRL output and re-translation back to english from a valid natural language input is verified.

* Invalid rule - Rejection of invalid rule is verified.

* Custom object implemented - Verification of the user's ability to add a custom object when it does not exist in the list of supported types is established.

* Rule object switch/addition/deletion - Verification of the user's ability to switch between submitted rules with the retention of each individual rule's state is established. The user's ability to add new rules, as well as delete existing rules is verified.


***

### Back-end

**Unittest:** Back-end tests are conducted using the python library unittest. 

* Parsing of object types - An example query is parsed, and the test verifies that objects are correctly identified and stored as category within components. 

* Parsing of properties - An example query is parsed, and the test verifies that properties are correctly identified and stored as a category within components. 

* Parsing of relations - An example query is parsed, and the test verifies that relations are correctly identified and stored as a category within components. 

* Parsing of existential clauses - An example query is parsed: the first test verifies that only one clause is obtained per object type. The second test verifies that the existential clause correctly assigns occurence rule.

* Parsing of logical expressions - An example query is parsed, and the test verifies that the logical expression is correct based on components and existential clauses. 

* Parsing of unknown objects - An example query is parsed, and the test verifies that an object is stored as part of the "unknown" category, if it does not exist in the list of given objects. 

* Re-translation of DRL to english - DRL formatted rules are initially parsed and verified against the expected corresponding natural language sentence (one that the user would input). 
Following, a rule that has been parsed from DRL back into natural language by our software is verified against the corresponding DRL rule. An equivalence between the user's inputted natural language, the DRL language, and our retranslation is verified.

***

## Manual Tests

**User Story:** US 6

**Name:** JSON Export

⠀<ol><li>An example ruleset is created, given a name and description, and the "Export to JSON" button is clicked. 

![Export to JSON](https://i.imgur.com/mcNYZur.png)</li><li>The exported JSON is verified to have been generated correctly. ![Export JSON example](https://i.imgur.com/YRhIJbU.png)</li></ol>⠀


**User Story:** US 17

**Name:** JSON Import

⠀<ol><li>Beginning with a refreshed page, the "Import JSON" button is clicked. ![Import JSON button](https://i.imgur.com/4BC0Qox.png)</li><li>An appropriate JSON file is navigated to and opened. ![Import JSON explorer](https://i.imgur.com/LiNPWnn.png)</li><li>The rules displayed on the page are verified to accurately correspond to those in the JSON file. ![JSON to be imported](https://i.imgur.com/YRhIJbU.png) ![Page Values](https://i.imgur.com/pFOHIaT.png)</li></ol>⠀

***

## Untested/Undeveloped User Stories
| **User Story** | **Name** | **Description** |
| ----------- | ----------- | ----------- |
| US 11 | DRL Editing | As a user, I want to be able to edit the DRL formatted rule generated by the system, so that I can ensure the translated version keeps the intent of my original rule. |
| US 12 | Rule Ordering | As a user, I want to be able to confirm the ordering I intend for certain rules is captured properly by the system, so that I know the DRL translated version is semantically identical to my original English rule. |
| US 14 | Inclusive or Exclusive | As a user, I want to be able to specify whether an "or" in my rule is inclusive or exclusive, so that I know the rule is semantically correct. |





Author: George Nassar, Anders Johnson
Date: 2020-11-26
